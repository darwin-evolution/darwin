<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Darwin by darwin-evolution</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Darwin</h1>
      <h2 class="project-tagline">Small utility to aid in evolutionary code refactorings.</h2>
      <a href="https://github.com/darwin-evolution/darwin" class="btn">View on GitHub</a>
      <a href="https://github.com/darwin-evolution/darwin/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/darwin-evolution/darwin/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://travis-ci.org/darwin-evolution/darwin.svg" alt="Travis">
<img src="https://img.shields.io/badge/license-MIT-brightgreen.svg" alt="MIT License"></p>

<h3>
<a id="why-" class="anchor" href="#why-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why ?</h3>

<p>Have you ever faced a situation when you wanted to refactor some code, but there were no testes, nobody
actually knows what this code should do exactly, everybody wants to refactor it but they are all afraid 
and don't want to risk ? Then this library is exactly for you! It allows you to write your new implementation
and execute it in test harness alongside existing implementation (even in production environment), 
returning values computed by original implementation, so nothing changes for end user. 
Darwin will monitor and log all executions comparing results returned by both implementations.
Logs will contain every information you need to decide if your implementation is mature enough to be used instead 
of old one.</p>

<h3>
<a id="how-" class="anchor" href="#how-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How ?</h3>

<p>Add maven dependency:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;com.github.darwin-evolution&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;darwin&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.9.1&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p>Write a sample evolution:</p>

<div class="highlight highlight-source-java"><pre>
<span class="pl-k">import</span> <span class="pl-smi">com.github.darwinevolution.darwin.Evolution</span>;

<span class="pl-k">final</span> <span class="pl-smi">Integer</span> a <span class="pl-k">=</span> <span class="pl-c1">1</span>, b <span class="pl-k">=</span> <span class="pl-c1">3</span>, c <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">1</span>; <span class="pl-c">//our execution arguments</span>

<span class="pl-smi">Integer</span> max <span class="pl-k">=</span> <span class="pl-smi">Evolution</span><span class="pl-k">.</span><span class="pl-k">&lt;</span><span class="pl-smi">Integer</span><span class="pl-k">&gt;</span>of(<span class="pl-s"><span class="pl-pds">"</span>calculateMax<span class="pl-pds">"</span></span>) <span class="pl-c">// let's create evolution called "calculateMax"</span>
        .from(<span class="pl-k">new</span> <span class="pl-k">ProtoplastExecutionHarness&lt;<span class="pl-smi">Integer</span>&gt;</span>() { <span class="pl-c">// harnessing...</span>
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-smi">Integer</span> <span class="pl-en">execute</span>() <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
                arguments(a, b, c); <span class="pl-c">// providing arguments for logging and comparison purposes...</span>
                <span class="pl-k">return</span> calculateMax(a, b, c); <span class="pl-c">// current implementation</span>
            }
        })
        .to(<span class="pl-k">new</span> <span class="pl-k">EvolvedExecutionHarness&lt;<span class="pl-smi">Integer</span>&gt;</span>() { <span class="pl-c">// harnessing evolved piece of art...</span>
            <span class="pl-k">@Override</span>
            <span class="pl-k">public</span> <span class="pl-smi">Integer</span> <span class="pl-en">execute</span>() <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
                arguments(a, b, c); <span class="pl-c">// again logging etc.</span>
                <span class="pl-k">return</span> calculateMax2(a, b, c); <span class="pl-c">// evolved implementation...</span>
            }
        })
        .evolve(); <span class="pl-c">// execute both implementations, </span>
                   <span class="pl-c">// log execution details (compared results, time etc...) and return execution result </span>
                   <span class="pl-c">// by default we return old implementation's                        </span></pre></div>

<p>By default Darwin will provide you with value returned from old implementation, and log details needed to determine
stability of your new solution. </p>

<h2>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h2>

<p>Damian Kolasa (<a href="https://github.com/fatfredyy" class="user-mention">@fatfredyy</a>)</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Darwin? Check out our <a href="https://groups.google.com/d/forum/darwin-evolution">groups</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/darwin-evolution/darwin">Darwin</a> is maintained by <a href="https://github.com/darwin-evolution">darwin-evolution</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
